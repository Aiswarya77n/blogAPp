{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Hp\\\\Downloads\\\\blogAPp\\\\src\\\\components\\\\Post.js\",\n    _s = $RefreshSig$();\n\nimport { Box, Card, CardActions, CardContent, CardHeader, CardMedia, IconButton, Typography } from \"@material-ui/core\";\nimport { Favorite, Comment } from \"@material-ui/icons\";\nimport React, { useEffect, useState } from \"react\";\nimport moment from \"moment\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\n\nfunction Post({\n  post\n}) {\n  _s();\n\n  const likes = useSelector(state => state.user.likes);\n  const history = useHistory();\n  const [isLike, setIsLike] = useState(false);\n\n  const handleDetail = () => {\n    history.push({\n      pathname: `/posts/${post.title}`,\n      state: {\n        post: (post.id, post.title)\n      }\n    });\n  };\n\n  useEffect(() => {\n    async function fetchIsLike() {\n      if (likes) {\n        const like = await (likes === null || likes === void 0 ? void 0 : likes.filter(like => like.post === post._id).length);\n\n        if (like > 0) {\n          setIsLike(true);\n        } else {\n          setIsLike(false);\n        }\n      }\n    }\n\n    fetchIsLike();\n  }, [likes, post._id]);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n      src: post.images[0],\n      component: \"img\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        style: {\n          cursor: \"pointer\"\n        },\n        onClick: handleDetail,\n        variant: \"h5\",\n        children: [\" \", post.title, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        children: [\" \", post.body.substring(0, 150), \" ...\", \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        component: IconButton,\n        color: isLike ? \"red\" : \"\",\n        variant: \"body1\",\n        size: \"small\",\n        children: [/*#__PURE__*/_jsxDEV(Favorite, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), \" \", post.likeCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        variant: \"h1\",\n        size: \"small\",\n        children: [/*#__PURE__*/_jsxDEV(Comment, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), \" \", post.commentCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Post, \"FNocZ2kaYeKOUsLu/dwrSIdYvRs=\", false, function () {\n  return [useSelector, useHistory];\n});\n\n_c = Post;\nexport default Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["C:/Users/Hp/Downloads/blogAPp/src/components/Post.js"],"names":["Box","Card","CardActions","CardContent","CardHeader","CardMedia","IconButton","Typography","Favorite","Comment","React","useEffect","useState","moment","useHistory","useSelector","Post","post","likes","state","user","history","isLike","setIsLike","handleDetail","push","pathname","title","id","fetchIsLike","like","filter","_id","length","images","cursor","body","substring","likeCount","commentCount"],"mappings":"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","sourcesContent":["import {\r\n  Box,\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  CardHeader,\r\n  CardMedia,\r\n  IconButton,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { Favorite, Comment } from \"@material-ui/icons\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nfunction Post({ post }) {\r\n  const likes = useSelector((state) => state.user.likes);\r\n  const history = useHistory();\r\n  const [isLike, setIsLike] = useState(false);\r\n  const handleDetail = () => {\r\n    history.push({\r\n      pathname: `/posts/${post.title}`,\r\n      state: { post: (post.id, post.title) },\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function fetchIsLike() {\r\n      if (likes) {\r\n        const like = await likes?.filter((like) => like.post === post._id)\r\n          .length;\r\n\r\n        if (like > 0) {\r\n          setIsLike(true);\r\n        } else {\r\n          setIsLike(false);\r\n        }\r\n      }\r\n    }\r\n    fetchIsLike();\r\n  }, [likes, post._id]);\r\n  return (\r\n    <Card>\r\n      {/* <CardHeader\r\n        title={post.author}\r\n        subheader={moment(post.createdAt).fromNow()}\r\n      /> */}\r\n\r\n      <CardMedia src={post.images[0]} component=\"img\" />\r\n      <CardContent>\r\n        <Typography\r\n          style={{ cursor: \"pointer\" }}\r\n          onClick={handleDetail}\r\n          variant=\"h5\"\r\n        >\r\n          {\" \"}\r\n          {post.title}{\" \"}\r\n        </Typography>\r\n        <Typography variant=\"body2\">\r\n          {\" \"}\r\n          {post.body.substring(0, 150)} ...{\" \"}\r\n        </Typography>\r\n      </CardContent>\r\n\r\n      <CardActions>\r\n        <Box\r\n          component={IconButton}\r\n          color={isLike ? \"red\" : \"\"}\r\n          variant=\"body1\"\r\n          size=\"small\"\r\n        >\r\n          <Favorite /> {post.likeCount}\r\n        </Box>\r\n        <IconButton variant=\"h1\" size=\"small\">\r\n          <Comment /> {post.commentCount}\r\n        </IconButton>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default Post;\r\n"]},"metadata":{},"sourceType":"module"}